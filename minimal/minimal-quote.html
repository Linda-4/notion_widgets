<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quote</title>

  <style>
    .widget {
      padding: 5px 5px;
      color: white;
      text-align: center;
      max-width: 95%;
      margin: auto;
      font-variant-caps: petite-caps;
      font-size: 2em;

    }

    div {
      width: 95%;
      min-height: 100px;

      background:
        linear-gradient(to right, white 4px, transparent 4px) 0 0,
        linear-gradient(to right, white 4px, transparent 4px) 0 100%,
        linear-gradient(to left, white 4px, transparent 4px) 100% 0,
        linear-gradient(to left, white 4px, transparent 4px) 100% 100%,
        linear-gradient(to bottom, white 4px, transparent 4px) 0 0,
        linear-gradient(to bottom, white 4px, transparent 4px) 100% 0,
        linear-gradient(to top, white 4px, transparent 4px) 0 100%,
        linear-gradient(to top, white 4px, transparent 4px) 100% 100%;

      background-repeat: no-repeat;
      background-size: 20px 20px;
    }
  </style>
</head>

<body>

  <div class="widget" id="widget"></div>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">

    quotes = [
      "Life is more managable if you think of it as a Scavengerhunt then if you think of it as a Suprise Party -Moss (White Collar).",
      "Mi casa is Suit casa -Moss (White Collar).",
      "I call it Thursday because I'm mostly here Wednesday -Moss (White Collar).",
      "-Do you have an idea how this is gonna end? -The big score or the big house? -The big love? -The biggest con of them all. -You're a cynic. -Neal, Moss (White Collar).",
      "I've actually always had a lot of respect for sheep because they wear our clothes before they exist (- I dont remember.)",
      "Then why do you do it? [...] Or do you you just find that comming to terms with the mindless tedium of it all presents an interesting challenge? -Ford Prefect (The Hitchhiker's guide to the galaxie.)",
      "I got myself for Secret Santa and I was supposed to tell somebody... but i didn't -Kevin (The Office)",
      "Alright guys. I've made the decision. I am going to disengage from this entire environement and go have a pint. So... see you later. -Bob (Viva La Dirt League D&D)",
      "Me have been selfish, me have been thinking only of Ron when me should think of Ron instead. Now has come a challenge for ronkind and me must rise. It would be my ronor to serve you in battle. -Ron (Naddod)",
      "In this living cristal lake you see a vessel rise up from the bottom it's a small sail-boat made of cristal [...] -Did this boat just reverse sink? -Onyx Lumière (Naddpod)",
      "Blavin: -If you're always tight you're a rubber band if your always loose your a bracelet, baby, thats what i like to say. Nyack: -You're a necklace. (Naddpod)",
      "To summarize the summary of the summary: People are a problem. (The Restaurant at the End of the Universe)",
      "Maybe home doesn’t have to be a place. (Tell me three things)",
      "Yeah, I've been around. They want me to find the man who rules the Universe, but I don't care to meet him. I believe the man can't cook. -Zaphod Beeblebrox (The Restaurant at the End of the Universe)",
      "How do you know you're having fun if no one is watching you have it -Zaphod Beeblebrox (The Restaurant at the End of the Universe)",
      "Nicht das man das kann, aber das könnte man, theoretisch. -Flummi (THIN)"
    ];

   // const INTERVAL = 30;

    /*function displayQuote() {
      const widgetElement = document.getElementById('widget');
      widgetElement.innerHTML = quotes[0];
      quotes.forEach((quote, i) => {
        // Assuming `quote` is a valid DOM element, you can set the countdown timer on it.
        $(quote).countdown({until: (i + 1) * INTERVAL});
      });
    }

    function displayWidget() {
      displayQuote();
      //const widgetElement = document.getElementById('widget');
      // Assuming you have a valid selector for the widget element, you can set the countdown timer on it.
      $('.widget').countdown({until: quotes.length * INTERVAL});
    }
    displayWidget();*/
    
    const INTERVAL = 30;
    let currentIndex = 0; // Current quote index

    function displayQuote() {
      const widgetElement = document.getElementById('widget');
      widgetElement.innerHTML = quotes[currentIndex];
      currentIndex = (currentIndex + 1) % quotes.length; // Increment index and loop back to 0
      setTimeout(displayQuote, INTERVAL * 1000); // Call displayQuote() again after the specified interval
    }

    function displayWidget() {
      displayQuote();
    }

    // Initialize the countdown on page load
    window.addEventListener('load', function() {
      // Retrieve current quote index from local storage
      currentIndex = parseInt(localStorage.getItem('quoteIndex')) || 0;
      displayWidget();
    });

    // Save current quote index to local storage before page is unloaded
    window.addEventListener('beforeunload', function() {
      localStorage.setItem('quoteIndex', currentIndex);
    });


    // var ms = 0,
    //   s = 0,
    //   m = 60;
    // var isCountingDown = false;
    // var timer;

    // window.addEventListener("load", function () {
    //   if (window.localStorage.getItem("time") !== null) {
    //     let obj = JSON.parse(window.localStorage.getItem("time"));
    //     ms = obj["ms"];

    //     //stopwatchEl.textContent = `${m}:${s}:${ms}`;
    //     dispalyWidget();
    //   }
    // });

    // window.addEventListener("beforeunload", function () {
    //   if (isCountingDown == true) {
    //     isCountingDown = false;
    //     let obj = {
    //       ms: ms,
    //       s: s,
    //       m: m,
    //     };
    //     window.localStorage.setItem("time", JSON.stringify(obj));
    //   }

    // });

    // function start() {
    //   if (!timer) {
    //     isCountingDown = true;
    //     timer = setInterval(run, 10);
    //   }
    // }

    // function run() {
    //   stopwatchEl.textContent =
    //     (m < 10 ? "0" + m : m) +
    //     ":" +
    //     (s < 10 ? "0" + s : s) +
    //     ":" +
    //     (ms < 10 ? "0" + ms : ms);
    //   ms--;
    //   if (ms < 0) {
    //     ms = 99;
    //     s--;
    //   }
    //   if (s < 0) {
    //     s = 59;
    //     m--;
    //   }
    //   if (m == 0 && s == 0 && ms == 0) {
    //     pause();
    //     var figyelmeztetes = confirm("Lejárt az idő!");
    //   }
    //   stopwatchEl.textContent =
    //     (m < 10 ? "0" + m : m) +
    //     ":" +
    //     (s < 10 ? "0" + s : s) +
    //     ":" +
    //     (ms < 10 ? "0" + ms : ms);
    // }

    // function pause() {
    //   clearInterval(timer);
    //   timer = false;
    // }

    // function stop() {
    //   var figyelmeztetes = confirm(
    //     "Vigyázz!!! Ezzel a számláló visszaáll 60 percre!"
    //   );
    //   if (figyelmeztetes == true) {
    //     clearInterval(timer);
    //     timer = false;
    //     ms = 0;
    //     s = 0;
    //     m = 60;
    //     stopwatchEl.textContent =
    //       (m < 10 ? "0" + m : m) +
    //       ":" +
    //       (s < 10 ? "0" + s : s) +
    //       ":" +
    //       (ms < 10 ? "0" + ms : ms);
    //   }
    // }

  </script>

</body>

</html>
